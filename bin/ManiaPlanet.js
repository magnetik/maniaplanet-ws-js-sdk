// Generated by CoffeeScript 1.3.3
(function() {
  var Client, Dedicated, HTTPClient, Manialinks, Players, root,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  Client = (function() {

    function Client() {}

    Client.baseUrl = 'https://ws.maniaplanet.com/';

    Client.tokenUrl = "" + Client.baseUrl + "/oauth2/token/";

    Client.authorizeUrl = "" + Client.baseUrl + "/oauth2/authorize/";

    Client.prototype.getAuthorizationURL = function() {};

    return Client;

  })();

  HTTPClient = (function() {

    HTTPClient.apiURL = 'https://ws.maniaplanet.com';

    function HTTPClient(username, password) {
      this.username = username;
      this.password = password;
    }

    HTTPClient.prototype.execute = function(method, ressource) {
      var options, ressourceURL;
      ressourceURL = url.parse(this.apiURL + ressource);
      options = {
        'method': method,
        'auth': this.username + ':' + this.password,
        'headers': {
          'Content-type': 'application/json'
        }
      };
      Array.prototype.push.apply(options, ressourceURL);
      return https.get(options, function(res) {
        var data;
        data = '';
        res.on('data', function(chunk) {
          return data += chunk.toString();
        });
        return res.on('end', function() {
          return data;
        });
      });
    };

    return HTTPClient;

  })();

  Players = (function(_super) {

    __extends(Players, _super);

    function Players() {
      return Players.__super__.constructor.apply(this, arguments);
    }

    Players.prototype.get = function(login) {
      return execute('get', 'player/');
    };

    return Players;

  })(HTTPClient);

  Dedicated = (function(_super) {

    __extends(Dedicated, _super);

    function Dedicated() {
      return Dedicated.__super__.constructor.apply(this, arguments);
    }

    Dedicated.prototype.get = function(login) {
      return execute('get', 'dedicated/');
    };

    return Dedicated;

  })(HTTPClient);

  Manialinks = (function(_super) {

    __extends(Manialinks, _super);

    function Manialinks() {
      return Manialinks.__super__.constructor.apply(this, arguments);
    }

    Manialinks.prototype.get = function(code) {
      return execute('get', 'manialinks/');
    };

    return Manialinks;

  })(HTTPClient);

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  root.Players = Players;

  root.Manialinks = Manialinks;

  root.Dedicated = Dedicated;

}).call(this);
